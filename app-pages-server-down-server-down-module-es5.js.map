{"version":3,"sources":["webpack:///src/app/pages/+server-down/server-down.page.html","webpack:///src/app/pages/+server-down/server-down.module.ts","webpack:///src/app/pages/+server-down/server-down.page.scss","webpack:///src/app/pages/+server-down/server-down.page.ts"],"names":["HttpLoaderFactory","http","routes","path","component","ServerDownModule","imports","forChild","loader","provide","useFactory","deps","declarations","ServerDownPage","store","location","translate","serverConnectionService","browserLang","getBrowserLang","use","match","noInternetLogo","testConnection","interval","setInterval","checkServerConnection","SERVICES_ENDPOINT","Number","serverConnection","clearInterval","back","template"],"mappings":";;;;;;;;;;;;;;;;;;;AAAA;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACUR,aAASA,iBAAT,CAA2BC,IAA3B,EAA6C;AACnD,aAAO,IAAI,8EAAJ,CAAwBA,IAAxB,EAA8B,uBAA9B,EAAuD,OAAvD,CAAP;AACA;;AAED,QAAMC,MAAM,GAAW,CACtB;AACCC,UAAI,EAAE,EADP;AAECC,eAAS,EAAE;AAFZ,KADsB,CAAvB;;AAuBA,QAAaC,gBAAgB;AAAA;AAAA,KAA7B;;AAAaA,oBAAgB,6DAhB5B,+DAAS;AACTC,aAAO,EAAE,CACR,4DADQ,EAER,0DAFQ,EAGR,sDAHQ,EAIR,6DAAaC,QAAb,CAAsBL,MAAtB,CAJQ,EAKR,oEAAgBK,QAAhB,CAAyB;AACxBC,cAAM,EAAE;AACPC,iBAAO,EAAE,mEADF;AAEPC,oBAAU,EAAEV,iBAFL;AAGPW,cAAI,EAAE,CAAC,+DAAD;AAHC;AADgB,OAAzB,CALQ,CADA;AAcTC,kBAAY,EAAE,CAAC,gEAAD;AAdL,KAAT,CAgB4B,GAAhBP,gBAAgB,CAAhB;;;;;;;;;;;;;;;;ACrCb;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACYf,QAAaQ,cAAc;AAI1B,8BACSC,KADT,EAEkBb,IAFlB,EAGSc,QAHT,EAISC,SAJT,EAKSC,uBALT,EAKyD;AAAA;;AAJhD,aAAAH,KAAA,GAAAA,KAAA;AACS,aAAAb,IAAA,GAAAA,IAAA;AACT,aAAAc,QAAA,GAAAA,QAAA;AACA,aAAAC,SAAA,GAAAA,SAAA;AACA,aAAAC,uBAAA,GAAAA,uBAAA;AAER,YAAMC,WAAW,GAAGF,SAAS,CAACG,cAAV,EAApB;AACAH,iBAAS,CAACI,GAAV,CAAcF,WAAW,CAACG,KAAZ,CAAkB,aAAlB,IAAmCH,WAAnC,GAAiD,OAA/D;AAEA,aAAKI,cAAL,GAAsB,qEAAY,kBAAZ,CAAtB;AACA,aAAKC,cAAL;AACA;;AAhByB;AAAA;AAAA,yCAkBK;;;;;;;;AAC9B,yBAAKC,QAAL,GAAgBC,WAAW,CAAC;AAAA,6BAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AACvC,uCAAM,KAAKR,uBAAL,CAA6BS,qBAA7B,CACL,qEAAYC,iBADP,EAEL,KAAKb,KAFA,CAAN;;AADuC;AAMvC,oCAAIc,MAAM,CAAC,KAAKd,KAAL,CAAWe,gBAAZ,CAAN,KAAwC,CAA5C,EAA+C;AAC9CC,+CAAa,CAAC,KAAKN,QAAN,CAAb;AACA,uCAAKT,QAAL,CAAcgB,IAAd;AACA;;AATsC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAAZ;AAAA,qBAAD,EAUxB,IAVwB,CAA3B;;;;;;;;;AAWA;AA9ByB;AAAA;AAAA,sCAgCf;AACVD,uBAAa,CAAC,KAAKN,QAAN,CAAb;AACA;AAlCyB;;AAAA;AAAA,OAA3B;;;;cAKiB;;cACQ;;cACL;;cACC;;cACc;;;;AATtBX,kBAAc,6DAJ1B,gEAAU;AAEVmB,cAAQ,EAAR;AAAA;AAAA,iHAFU;;;;AAAA,KAAV,CAI0B,E,+EAKV,kE,EACQ,+D,EACL,wD,EACC,oE,EACc,0H,EATR,GAAdnB,cAAc,CAAd","file":"app-pages-server-down-server-down-module-es5.js","sourcesContent":["export default \"<nb-layout>\\n\\t<nb-layout-column class=\\\"login-view info-page\\\" scroll=\\\"false\\\">\\n\\t\\t<div class=\\\"server-down-content\\\">\\n\\t\\t\\t<div class=\\\"logo app-hide-on-keyboard-open\\\">\\n\\t\\t\\t\\t<img src=\\\"{{ noInternetLogo }}\\\" />\\n\\t\\t\\t</div>\\n\\n\\t\\t\\t<div class=\\\"info-massage\\\">\\n\\t\\t\\t\\t<h3 class=\\\"mt-4\\\">\\n\\t\\t\\t\\t\\t{{ 'NO_SERVER_VIEW.NO_SERVER' | translate }}\\n\\t\\t\\t\\t</h3>\\n\\t\\t\\t</div>\\n\\t\\t</div>\\n\\t</nb-layout-column>\\n</nb-layout>\\n\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { Routes, RouterModule } from '@angular/router';\nimport { ServerDownPage } from './server-down.page';\nimport { TranslateModule, TranslateLoader } from '@ngx-translate/core';\nimport { HttpClient } from '@angular/common/http';\nimport { TranslateHttpLoader } from '@ngx-translate/http-loader';\nimport { ThemeModule } from '@app/@theme';\n\nexport function HttpLoaderFactory(http: HttpClient) {\n\treturn new TranslateHttpLoader(http, '../../../assets/i18n/', '.json');\n}\n\nconst routes: Routes = [\n\t{\n\t\tpath: '',\n\t\tcomponent: ServerDownPage,\n\t},\n];\n\n@NgModule({\n\timports: [\n\t\tCommonModule,\n\t\tFormsModule,\n\t\tThemeModule,\n\t\tRouterModule.forChild(routes),\n\t\tTranslateModule.forChild({\n\t\t\tloader: {\n\t\t\t\tprovide: TranslateLoader,\n\t\t\t\tuseFactory: HttpLoaderFactory,\n\t\t\t\tdeps: [HttpClient],\n\t\t\t},\n\t\t}),\n\t],\n\tdeclarations: [ServerDownPage],\n})\nexport class ServerDownModule {}\n","export default \".info-page {\\n  padding: 0 !important;\\n}\\n\\n.info-page .server-down-content {\\n  color: white;\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-align: center;\\n      -ms-flex-align: center;\\n          align-items: center;\\n  -webkit-box-pack: center;\\n      -ms-flex-pack: center;\\n          justify-content: center;\\n  text-align: center;\\n  height: 100%;\\n  -webkit-box-orient: vertical;\\n  -webkit-box-direction: normal;\\n      -ms-flex-direction: column;\\n          flex-direction: column;\\n}\\n\\n.info-page .info-massage h3 {\\n  color: red;\\n  width: 100%;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL2l0ZXhwZXJ0L0RvY3VtZW50cy9Eb2xjZUdyb2NlcnkvcGFja2FnZXMvYWRtaW4td2ViLWFuZ3VsYXIvc3JjL2FwcC9wYWdlcy8rc2VydmVyLWRvd24vc2VydmVyLWRvd24ucGFnZS5zY3NzIiwic3JjL2FwcC9wYWdlcy8rc2VydmVyLWRvd24vc2VydmVyLWRvd24ucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUlBO0VBQ0MscUJBQXFCO0FDSHRCOztBREVBO0VBSUUsWUFBWTtFQUlaLG9CQUFhO0VBQWIsb0JBQWE7RUFBYixhQUFhO0VBQ2IseUJBQW1CO01BQW5CLHNCQUFtQjtVQUFuQixtQkFBbUI7RUFDbkIsd0JBQXVCO01BQXZCLHFCQUF1QjtVQUF2Qix1QkFBdUI7RUFDdkIsa0JBQWtCO0VBQ2xCLFlBQVk7RUFDWiw0QkFBc0I7RUFBdEIsNkJBQXNCO01BQXRCLDBCQUFzQjtVQUF0QixzQkFBc0I7QUNMeEI7O0FEUkE7RUFpQkUsVUFBVTtFQUNWLFdBQVc7QUNMYiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzLytzZXJ2ZXItZG93bi9zZXJ2ZXItZG93bi5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBAaW1wb3J0ICdAbW9kdWxlcy9jbGllbnQuY29tbW9uLmFuZ3VsYXIyL3Njc3MvZXZlcmJpZS5jb21tb24nO1xuLy8gQGltcG9ydCBcIn5AbW9kdWxlcy9jbGllbnQuY29tbW9uLmFuZ3VsYXIyL3Njc3MvZXZlcmJpZS5jb21tb24uc2Nzcyc7XG4vLyBAaW1wb3J0IFwifkBldmVyLXBsYXRmb3JtL2NvbW1vbi1hbmd1bGFyL3Njc3MvZXZlcmJpZS5jb21tb24uc2Nzcyc7XG5cbi5pbmZvLXBhZ2Uge1xuXHRwYWRkaW5nOiAwICFpbXBvcnRhbnQ7XG5cblx0LnNlcnZlci1kb3duLWNvbnRlbnQge1xuXHRcdGNvbG9yOiB3aGl0ZTtcblxuXHRcdC8vIGJhY2tncm91bmQ6ICRicmFuZDtcblxuXHRcdGRpc3BsYXk6IGZsZXg7XG5cdFx0YWxpZ24taXRlbXM6IGNlbnRlcjtcblx0XHRqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcblx0XHR0ZXh0LWFsaWduOiBjZW50ZXI7XG5cdFx0aGVpZ2h0OiAxMDAlO1xuXHRcdGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG5cdH1cblxuXHQuaW5mby1tYXNzYWdlIGgzIHtcblx0XHRjb2xvcjogcmVkO1xuXHRcdHdpZHRoOiAxMDAlO1xuXHR9XG59XG4iLCIuaW5mby1wYWdlIHtcbiAgcGFkZGluZzogMCAhaW1wb3J0YW50O1xufVxuXG4uaW5mby1wYWdlIC5zZXJ2ZXItZG93bi1jb250ZW50IHtcbiAgY29sb3I6IHdoaXRlO1xuICBkaXNwbGF5OiBmbGV4O1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBoZWlnaHQ6IDEwMCU7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG59XG5cbi5pbmZvLXBhZ2UgLmluZm8tbWFzc2FnZSBoMyB7XG4gIGNvbG9yOiByZWQ7XG4gIHdpZHRoOiAxMDAlO1xufVxuIl19 */\"","import { Component, OnDestroy } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\nimport { Location } from '@angular/common';\nimport { Store } from '@app/@core/data/store.service';\nimport { environment } from 'environments/environment';\nimport { TranslateService } from '@ngx-translate/core';\nimport { ServerConnectionService } from '@modules/client.common.angular2/services/server-connection.service';\n\n@Component({\n\tstyleUrls: ['./server-down.page.scss'],\n\ttemplateUrl: 'server-down.page.html',\n})\nexport class ServerDownPage implements OnDestroy {\n\tnoInternetLogo: string;\n\tinterval;\n\n\tconstructor(\n\t\tprivate store: Store,\n\t\tprivate readonly http: HttpClient,\n\t\tprivate location: Location,\n\t\tprivate translate: TranslateService,\n\t\tprivate serverConnectionService: ServerConnectionService\n\t) {\n\t\tconst browserLang = translate.getBrowserLang();\n\t\ttranslate.use(browserLang.match(/en|bg|he|ru/) ? browserLang : 'en-US');\n\n\t\tthis.noInternetLogo = environment['NO_INTERNET_LOGO'];\n\t\tthis.testConnection();\n\t}\n\n\tprivate async testConnection() {\n\t\tthis.interval = setInterval(async () => {\n\t\t\tawait this.serverConnectionService.checkServerConnection(\n\t\t\t\tenvironment.SERVICES_ENDPOINT,\n\t\t\t\tthis.store\n\t\t\t);\n\n\t\t\tif (Number(this.store.serverConnection) !== 0) {\n\t\t\t\tclearInterval(this.interval);\n\t\t\t\tthis.location.back();\n\t\t\t}\n\t\t}, 5000);\n\t}\n\n\tngOnDestroy(): void {\n\t\tclearInterval(this.interval);\n\t}\n}\n"]}